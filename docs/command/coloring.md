---
title: "/coloring - 輪郭抽出・着色"
description: ""
custom_edit_url: null 
sidebar_position: 4
---

# /coloring - 輪郭抽出・着色

## 説明

彩色済イラストや線画、落書きから輪郭を抽出し、着色する

## オプション

---

### image / 元画像

---

着色する画像（必須）

- mode = Illust の場合、色のついた通常の画像
  
- mode = Linedraw / Rakugaki / Raku2Lineの場合、無彩色の線画 / 落書き

  - 線画や落書きは、薄い背景に濃い線で描くこと（白背景に黒線を想定）

- 縦横比はresolutionに近づけることを推奨（デフォルト正方形）

  - 異なる場合は内側が切り抜かれるので、完全に合わせなくてもOK

---

### mode / 処理モード

---

処理モードの選択（必須）

- 選択肢一覧

    |選択肢|詳細|
    |:--|:--|
    |Illust|彩色済画像の色変化|
    |Linedraw|線画の着色|
    |Rakugaki|落書きのイラスト化|
    |Raku2Line|落書きの線画化|

- それぞれ内部処理が異なるが、ざっくり言うと輪郭の残し具合が違う

  - Illustは残しやすく、Rakugakiはあまり残さない

  - Linedrawのみ、加えて線画自体を線として残しやすい

- Raku2Lineは、処理的にはRakugakiと同じ

  - colorrefにimageをもう一度入れることで線画っぽくしている

  - colorrefは反映されない

---

### colorref / 参考画像

---

元画像を（雑に）着色した画像を着色の参考にさせる

- ない場合、ゼロから塗りなおす

- 元画像と解像度を同じにすること
  
  - 異なる場合は内側が切り抜かれる

- mode = Illust の場合、（ほぼ）元画像と色の異なる部分のみが変化する

  - 髪だけを塗りつぶして髪色を変えるなどが可能

  - Illustでは特に、強い色の方が結果に出やすい

  - 影響はイラストによるので、まずはやってみる

- 元画像とは完全に異なる画像を入れても元画像の輪郭は残るので、面白い画像が作れるかも

- mode = Raku2Line の場合、設定の必要はない（色はつけないので）

---

### prompt / 生成要素指定

---

プロンプト、色をどのように変化させるかを指定する

- 英語カンマ区切りで、前にある方が強く、また()で囲むほど強くなる (((重複する)))
  - 指定の例 -> ```1girl, solo, looking at viewer, black hoodie```

- ここでは語り切れないので、例は"stable diffusion プロンプト"とかでググって

- ここでLoRAを使用することで、簡単にキャラクターや画風を指定可能 -> [LoRAについて](../lora)

---

### resolution / 縦横比・解像度

---

生成画像の縦横比・解像度を指定

- 選択肢一覧

|選択肢|詳細|
|:--|:--|
|square（デフォルト）|正方形（512x512）|
|landscape|横長（960x576）|
|portrait|縦長（576x960）|

- square以外は生成枚数が4枚になる（生成時間が増えるため）

---

### model / モデル

---

変更が多いので、別ページで解説

- [model / モデル](../model)

---

### vae / VAE

---

塗りや明るさを調整する

- 選択肢一覧

|選択肢|詳細|
|:--|:--|
|orangemix（デフォルト）|バランスがいい、線がきれい|
|ClearVAE|明るめ、線が細い|
|kl-f8-anime2|彩度が高い、影はっきり|
|proto-4|彩度が高い、ぼかしが強い|
|All|VAEのみを変えて4枚生成|
